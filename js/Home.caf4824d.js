import{_ as u,o as r,c as o,a as e,F as h,f as _,t as c,w as y,v as m,g as D}from"./main.6b1461d1.js";const v={name:"Home",data(){return{diaries:[],showNewDiary:!1,editingIndex:-1,currentDiary:{content:"",date:""}}},created(){const t=localStorage.getItem("diaries");t&&(this.diaries=JSON.parse(t))},methods:{saveDiary(){if(!this.currentDiary.content.trim()){alert("请输入日记内容");return}const t={content:this.currentDiary.content,date:new Date().toLocaleString()};this.editingIndex===-1?this.diaries.unshift(t):this.diaries[this.editingIndex]=t,localStorage.setItem("diaries",JSON.stringify(this.diaries)),this.closeModal()},editDiary(t){this.editingIndex=t,this.currentDiary={...this.diaries[t]},this.showNewDiary=!0},deleteDiary(t){confirm("确定要删除这篇日记吗？")&&(this.diaries.splice(t,1),localStorage.setItem("diaries",JSON.stringify(this.diaries)))},closeModal(){this.showNewDiary=!1,this.editingIndex=-1,this.currentDiary={content:"",date:""}}}},f={class:"home-container"},g={class:"header"},p={class:"diary-list"},w={class:"diary-header"},b={class:"diary-date"},k={class:"diary-actions"},x=["onClick"],I=["onClick"],N={class:"diary-content"},C={key:0,class:"modal"},S={class:"modal-content"},M={class:"modal-buttons"};function B(t,s,H,J,a,n){return r(),o("div",f,[e("header",g,[s[4]||(s[4]=e("h1",null,"我的日记",-1)),e("button",{class:"cute-button",onClick:s[0]||(s[0]=i=>a.showNewDiary=!0)},"写新日记")]),e("div",p,[(r(!0),o(h,null,_(a.diaries,(i,d)=>(r(),o("div",{key:d,class:"diary-card"},[e("div",w,[e("span",b,c(i.date),1),e("div",k,[e("button",{class:"edit-btn",onClick:l=>n.editDiary(d)},"编辑",8,x),e("button",{class:"delete-btn",onClick:l=>n.deleteDiary(d)},"删除",8,I)])]),e("p",N,c(i.content),1)]))),128))]),a.showNewDiary?(r(),o("div",C,[e("div",S,[e("h2",null,c(a.editingIndex===-1?"写新日记":"编辑日记"),1),y(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=i=>a.currentDiary.content=i),class:"diary-textarea",placeholder:"写下此刻的心情...",autocomplete:"off"},null,512),[[m,a.currentDiary.content]]),e("div",M,[e("button",{class:"cute-button",onClick:s[2]||(s[2]=(...i)=>n.saveDiary&&n.saveDiary(...i))},"保存"),e("button",{class:"cancel-button",onClick:s[3]||(s[3]=(...i)=>n.closeModal&&n.closeModal(...i))},"取消")])])])):D("",!0)])}const V=u(v,[["render",B],["__scopeId","data-v-7e7a3264"]]);export{V as default};
